{% extends 'layouts/base.html' %} {% block css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/list.css') }}">
<!-- <link rel="stylesheet" href="{{ url_for('static', filename='css/vendor/jquery.dataTables.min.css') }}">  -->
{% endblock %} {% block content %}
<div class="container" style="margin-top: 50px;" id="user_list">
    <!-- user_count -->
    <div class="page-header">
        <h1>User List<small>&emsp;demo</small>
        <span class="col-sm-3 input-group right">
             <input class="form-control" type="email" placeholder="enter phone">
             <div class="input-group-btn">
                  <button class="btn btn-default" type="button" @click="get_code($event)"><i class="fa fa-search"></i></button>
             </div>
        </span>
        </h1>
    </div>
    <div class="row">
        <div class="panel">
            <!--             <div class="panel-heading">
                user list
            </div> -->
            <table class="table table-striped table-hover table-responsive">
                <thead>
                    <tr>
                        <th>phone</th>
                        <th>name</th>
                        <!-- <th>title</th> -->
                        <!-- <th>office</th> -->
                        <!-- <th>hospital</th> -->
                        <th>province</th>
                        <th>city</th>
                        <th>total_beans</th>
                        <th>create_time</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="user in data" v-cloak>
                        <td>{{'{{ user.phone }}'}}</td>
                        <td>{{'{{ user.name }}'}}</td>
                        <!-- <td>{{'{{ user.title }}'}}</td> -->
                        <!-- <td>{{'{{ user.office }}'}}</td> -->
                        <!-- <td>{{'{{ user.hospital }}'}}</td> -->
                        <td>{{'{{ user.province }}'}}</td>
                        <td>{{'{{ user.city }}'}}</td>
                        <td>{{'{{ user.total_beans }}'}}</td>
                        <td>{{'{{ user.create_time }}'}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="row" v-cloak>
        <nav>
            <ul class="pagination">
                <li :class="page < 10 ? 'disabled':''"><a href="#" @click="choose_page(0)">&laquo;</a></li>
                <li :class="page < 10 ? 'disabled':''"><a href="#" @click="choose_page(page-10)">Prev 10</a></li>
                <li :class="page == 0 ? 'disabled':''"><a href="#" @click="choose_page(page-1)">Prev</a></li>
                <li v-for="item in page_array" :class="item == page?'active':''" @click="choose_page(item)"><a href="#">{{'{{ item+1 }}'}}</a></li>
                <li :class="page == page_array ? 'disabled':''"><a href="#" @click="choose_page(page+1)">Next</a></li>
                <li :class="page_array.length < 10 ? 'disabled':''"><a href="#" @click="choose_page(page+10)">Next 10</a></li>
                <li :class="page_array.length < 10 ? 'disabled':''"><a href="#" @click="choose_page(page_count)">&raquo;</a></li>
            </ul>
        </nav>
    </div>
</div>
<br>
<br>
<br>
<br> {% endblock %} {% block js %}
<!-- <script type="text/javascript" src="{{ url_for('static', filename='js/vendor/jquery.dataTables.min.css') }}"></script> -->
<script type="text/javascript" src="{{ url_for('static', filename='js/list/user.js') }}"></script>
{% endblock %}
